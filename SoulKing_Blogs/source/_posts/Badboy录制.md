---
title: Badboy录制
date: 2023-09-19 13:55:36
tags:
   - Badboy
categories:
   - Badboy学习
keywords: "Badboy"
decription: ""
top_img: ""
cover: https://s2.loli.net/2023/09/19/283fEFLdNsTgIHG.png
---

## **使用Badboy工具录制Jmeter脚本**

## 1.使用Badboy录制JMeter脚本

打开Badboy工具开始进行脚本录制。

1. 当我们打开Badboy工具时，默认就进入录制状态。

   如下图：

   {%asset_img 03-19-23-140352.png%}

   当然我们也可以点击录制按钮，进行状态的切换。

2. 在地址栏中输入被测地址，并访问。

   我们以访问京东为例：

   在输入栏中输入京东网址，点击后边的小箭头，跳转到被测地址中。

   {%asset_img 03-19-23-140359.png%}

   当点击剪头后，记录一步操作(相当于创建了一个取样器)，并在右侧视图中显示被测网址的内容，如下图：

   {%asset_img 04-19-23-140404.png%}

3. 在视图中可以直接操作显示出来的内容。

   就和我们平时访问网站一样的，例如：我点击"请登陆"，就会跳转到京东的登陆页面了。

   同时脚本目录树中就会继续添加一步操作。

   {%asset_img 04-19-23-140408.png%}

4. 停止录制脚本。

   如果一个测试流程录制完成之后，我们就可以点击停止录制。

   就是点击工具栏中的小红点，如下图：

   {%asset_img 04-19-23-140415.png%}

5. 保存录制好的脚本文件。

   点击File->Export to JMeter..., 把脚本文件保存到你需要的位置，方便进行管理，JMeter文件的默认格式是.jmx格式的文件。

6. 在JMeter中打开刚刚保存的脚本文件进行打开，如下图：

   {%asset_img 04-19-23-140418.png%}

   说明：所有录制的内容都在Step 1中，这个组件叫**录制控制器**。

7. 添加监听器

   使用Badboy录制的Jmeter脚本，是不带监听器的。

   这里我们需要手动添加一个监听器，方便查看结果。

   {%asset_img 04-19-23-140423.png%}

8. 在JMeter中启动脚本

   在工具栏中点击绿色启动剪头来运行该脚本。

   脚本运行完成之后，可以在"察看结果树"中查看该测试计划中所有请求与响应的结果。

   {%asset_img 04-19-23-140427.png%}

## 2.**使用Badboy参数化配置**

Badboy为方便自动化数据灵活性，提供了脚本参数化的功能。

像上面的例子中是没有输入性操作在里面的，如果我访问的是百度，需要输入一些搜索关键词信息，这个时候就需要参数化配置了。

1. 打开Badboy工具，默认就进入录制状态。

2. 在地址栏中输入被测地址，并访问。

   例如：访问京东网站，搜索需要的商品。

   {%asset_img 04-19-23-140432.png%}

3. 在百度搜索栏中输入搜索关键词"手机"，并点击搜索。

   {%asset_img 04-19-23-140436.png%}

   点击搜索：

   {%asset_img 04-19-23-140439.png%}

4. 点击停止录制按钮，并开始修改。

   展开上一步搜索商品增加的脚本目录树：

   {%asset_img 04-19-23-140445.png%}

   需要修改两处：

   1. 如果输入的关键字信息出现乱码的情况。

      Badboy默认使用系统的IE浏览器，出现乱码的话，将ie属性的utf-8改为gbk。例如，京东网站的ie属性为enc属性。

      双击enc属性(在该属性上右键选择Properties选项也可以)，在弹出的窗口中进行修改，

      如下图：

      {%asset_img 04-19-23-140455.png%}

      （GBK大小写都可以）

      注意：你电脑默认的浏览器是什么编码，就换成它对应的编码即可，这样就可以不乱码。

   2. 配置输入的参数信息

      例如：在京东页面中，keyword属性就是关键词信息。

      双击keyword属性（在该属性上右键选择Properties选项也可以），修改Value属性为${自定义的变量名}，点击确定。

      {%asset_img 05-19-23-140501.png%}

      然后开始配置变量的参数信息，步骤如下图所示：

      {%asset_img 05-19-23-140507.png%}

      此时keyword属性的值，已被参数化。

5. 双击Step 1，进行修改

   选择For  each value of vari，表示以每个变量定义的值为准（也就是使用参数化）。

   {%asset_img 05-19-23-140515.png%}

   此时查看脚本树的变化，如下图：

   {%asset_img 05-19-23-140522.png%}

6. 保存脚本，并用JMeter打开该脚本，运行即可。

   也可以在Badboy中，右键点击Test1 -> Play Whole Test,执行该录制的脚本，查看执行效果。

## 3.解决"当前页面的脚本发生错误"提示框

Badboy录制脚本的时候，总是弹出如下弹框"当前页面的脚本发生错误"。

{%asset_img 05-19-23-140532.png%}

打开Badboy -> preferences ->点击playing ->勾选Javascript Error Dialogs，然后重新Badboy工具即可。

{%asset_img 05-19-23-140545.png%}

勾选"JavaScript Error Dialogs",意思是自动处理/抑制JavaScript错误对话框。

提示：如果以后在录制JMeter脚本的时候，出现如上的弹窗，我们直接点击叉子关闭即可。

## 4.总结

使用Badboy工具录制的脚本，相对于使用JMeter自身工具录制的脚本，更加精简，更加干净。

但是Badboy工具录制脚本的时候，经常出现无法录制脚本的提示，是非常不友好的。

JMeter自身自带的录制工具，兼容性就非常的好，就是录制的取样器非常的多，需要自己优化。

总结：以上都是Badboy最基础的用法，还有很多的功能以后在工作中慢慢积累。

本篇文章来源于：[博主繁花似锦](https://www.cnblogs.com/liuyuelinfighting/p/14900019.html)
